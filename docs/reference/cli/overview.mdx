---
title: "CLI Overview"
description: "Complete reference for HUD command-line tools"
icon: "terminal"
---

The HUD CLI provides a complete toolkit for creating, developing, and running MCP environments. Commands are organized into two main workflows:

<CardGroup cols={2}>
<Card title="Build & Ship" icon="hammer" color="#6b21a8">
  **Directory-based commands** for creating and sharing environments:
  - `hud init` â€” Create new environment
  - `hud dev` â€” Develop with hotâ€‘reload
  - `hud build` â€” Build and generate lock file
  - `hud push` â€” Share to registry
</Card>

<Card title="Run & Evaluate" icon="play" color="#0891b2">
  **Target-based commands** for using environments and agents:
  - `hud analyze` â€” Inspect capabilities (fast/live)
  - `hud debug` â€” 5â€‘phase compliance test
  - `hud run` â€” Execute (Python module/command/Docker)
  - `hud eval` â€” Run agents on tasks/datasets
  - `hud rl` â€” Train with GRPO on tasks
</Card>
</CardGroup>

## Installation

<CodeGroup>
```bash uv (Recommended)
uv tool install hud-python
hud --version
```

```bash pip
pip install hud-python
python -m hud.cli --help
```

```bash pipx
pipx install hud-python
hud --version
```
</CodeGroup>

## Commands

### Building Workflow
| Command | Input | Description | Example |
|---------|-------|-------------|---------|
| `hud init` | Directory | Create new environment | `hud init my-env` |
| `hud dev` | Directory | Hot-reload development | `hud dev . --interactive` |
| `hud build` | Directory | Build image & lock file | `hud build . --tag v1.0` |
| `hud push` | Directory | Share to registry | `hud push . --tag prod` |

### Running Workflow
| Command | Input | Description | Example |
|---------|-------|-------------|---------|
| `hud analyze` | Image or config | Inspect tools & capabilities | `hud analyze org/env` |
| `hud debug` | Image/dir/config | 5â€‘phase compliance test | `hud debug my-env:latest` |
| `hud run` | Module/command/image | Execute server (local/remote) | `hud run controller --reload` |
| `hud eval` | Tasks/dataset | Run agent on tasks | `hud eval tasks.json claude` |
| `hud rl` | Tasks/dataset | Train with GRPO | `hud rl tasks.json --local` |

### Other Commands
| Command | Description | Example |
|---------|-------------|---------|
| `hud get` | Download HF dataset to tasks file | `hud get hud-evals/2048-basic -o tasks.jsonl` |
| `hud quickstart` | Clone quickstart repo | `hud quickstart` |
| `hud cursor-list` | List Cursor MCP servers | `hud cursor-list` |
| `hud version` | Show CLI version | `hud version` |
| `hud clone` | Clone any git repo (pretty output) | `hud clone https://github.com/...` |
| `hud set` | Persist API keys to ~/.hud/.env | `hud set HUD_API_KEY=...` |

## Complete Workflows

### Building an Environment

<Steps>
<Step title="Initialize">
Create a new HUD environment with minimal boilerplate:
```bash
hud init my-env && cd my-env
```
Creates `Dockerfile`, `pyproject.toml`, `controller/` (MCP server), optional `environment/` backend, `tasks.json`.
</Step>

<Step title="Develop">
Run with hot-reload and interactive testing:
```bash
hud dev
```
Your changes reload automatically. Test tools interactively with arrow keys.
</Step>

<Step title="Build">
Create production image and lock file:
```bash
hud build
```
Generates `hud.lock.yaml` with metadata and labels image for reproducibility.
</Step>

<Step title="Push">
Share to Docker and HUD registries:
```bash
hud push
```
Requires `HUD_API_KEY`. Auto-detects registry from Docker login.
</Step>
</Steps>

### Running an Environment

<Steps>
<Step title="Analyze">
Quick inspection without running:
```bash
hud analyze hudpython/text_init    # Fast (from metadata)
hud analyze hudpython/text_init --live  # Full (runs container)
```
</Step>

<Step title="Debug">
Test MCP protocol compliance:
```bash
hud debug hudpython/text_init:latest
```
Validates through 5 phases of initialization.
</Step>

<Step title="Run">
Execute in production mode:
```bash
hud run hudpython/text_init:latest        # Remote (default)
hud run hudpython/text_init:latest --local  # Local Docker
```
</Step>
</Steps>

## Common Usage

### Docker Images
```bash
# Basic
hud debug my-image:latest

# With options
hud debug my-image:latest -e DEBUG=true -p 8080:8080

# From registry
hud analyze ghcr.io/org/image:v1.0.0
```

### Arbitrary Commands (Python/Node/etc.)
```bash
# Run any command as MCP server (stdio/http)
hud run --cmd "python -m controller" -t http -p 8765
hud run --cmd "node mcp-server.js"
```

### Cursor Integration
```bash
# Debug Cursor server
hud debug --cursor my-dev-server

# List all servers
hud cursor-list
```

## Output Formats

### Interactive (Default)
```bash
hud analyze my-env

ðŸ” Analyzing MCP environment: my-env
âœ“ Connected successfully
âœ“ Found 12 tools

Available Tools:
  â€¢ click - Click at coordinates
  â€¢ type - Type text
  ...
```

### JSON
```bash
hud analyze my-env --format json

{
  "tools": [{
    "name": "click",
    "description": "Click at coordinates",
    "parameters": {...}
  }]
}
```

### Markdown
```bash
hud analyze my-env --format markdown > docs/tools.md
```

## CI/CD Example

```bash
#!/bin/bash
set -e

# Test environment
hud debug "$IMAGE_NAME"

# Verify tools
TOOLS=$(hud analyze "$IMAGE_NAME" --format json | jq '.tools | length')
if [ "$TOOLS" -lt 3 ]; then
  echo "Not enough tools!"
  exit 1
fi
```

## Python Scripting

```python
import subprocess
import json

def get_tools(image):
    result = subprocess.run(
        ["hud", "analyze", image, "--format", "json"],
        capture_output=True,
        text=True,
        check=True
    )
    return json.loads(result.stdout)["tools"]

# Use
tools = get_tools("my-env:latest")
for tool in tools:
    print(f"- {tool['name']}: {tool['description']}")
```

## Exit Codes

| Code | Meaning | Description |
|------|---------|-------------|
| 0 | Success | Command completed |
| 1 | General Error | Command failed |
| 2 | Usage Error | Invalid arguments |
| 3 | Connection Error | Failed to connect |
| 4 | Timeout | Operation timed out |
| 5 | Protocol Error | MCP violation |

## Environment Variables

```bash
# Debug output
export HUD_CLI_DEBUG=true

# Custom timeout
export HUD_CLI_TIMEOUT=120

# Provider keys
export ANCHOR_API_KEY=...
```

## Next Steps

### Building Commands
<CardGroup cols={2}>
<Card title="Init Command" icon="sparkles" href="/reference/cli/init">
  Create new environments from scratch
</Card>

<Card title="Dev Command" icon="code" href="/reference/cli/dev">
  Develop with hot-reload and interactive testing
</Card>

<Card title="Build Command" icon="hammer" href="/reference/cli/build">
  Build images and generate lock files
</Card>

<Card title="Push Command" icon="upload" href="/reference/cli/push">
  Share environments to registry
</Card>
</CardGroup>

### Running Commands
<CardGroup cols={2}>
<Card title="Analyze Command" icon="magnifying-glass" href="/reference/cli/analyze">
  Inspect tools and capabilities
</Card>

<Card title="Debug Command" icon="bug" href="/reference/cli/debug">
  Test MCP protocol compliance
</Card>

<Card title="Run Command" icon="play" href="/reference/cli/run">
  Execute servers locally or remotely
</Card>
</CardGroup>
